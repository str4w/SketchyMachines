# the other kind of pentest :-)
# 8 pens, 8.5 x 11 sheet
# 1/2 inch margin
# 1 half inch for titles 
# columns for drawings will be
# row height 1000 to 7500 in 4: 1000 2625 4250 5875 7500
# col widths 500 to 10500 in 4 500 3000 5500 8000 10500 
# 
# Pen Names
pen[1]="   1. Pen One    "
pen[2]="   2. Pen Two    "
pen[3]="  3. Pen Three   "
pen[4]="  4. Pen Four    "
pen[5]="  5. Pen Five    "
pen[6]="   6. Pen Six    "
pen[7]="  7. Pen Seven   "
pen[8]="  8. Pen Eight   "

font=timesr

eighths=(0.0 0.125 0.250 0.375 0.5 0.625 0.750 0.875 1.0)

columns=(0.0 0.25 0.5 0.75 1.0)
rows=(0.0625 0.265625 0.46875 0.671875 0.875)

# make a frame with correct aspect ratio
echo "500 500 10500 500 10500 8000 500 8000 500 500" >/tmp/outerframe.lines
# guidelines, remove later
echo "500 1000 10500 1000" >/tmp/outerframe.lines
echo "500 7500 10500 7500" >/tmp/outerframe.lines
echo "500 2625 10500 2625" >/tmp/outerframe.lines
echo "500 4250 10500 4250" >/tmp/outerframe.lines
echo "500 5875 10500 5875" >/tmp/outerframe.lines
echo "3000 500 3000 7500" >/tmp/outerframe.lines
echo "5500 500 5500 7500" >/tmp/outerframe.lines
echo "8000 500 8000 7500" >/tmp/outerframe.lines

echo "The other kind of pen test $(date +%Y.%m.%d)" >/tmp/headline.txt
python PlotterTests/text2lines.py $font /tmp/headline.txt /tmp/headline.lines
python PlotterTests/compositelines.py --fix_aspect /tmp/outerframe.lines 0 .95 1 .9833 /tmp/headline.lines /tmp/tmp.lines
mv /tmp/tmp.lines /tmp/output.lines
for i in 1 2 3 4 5 6 7 8
do
   echo "${pen[$i]}" >/tmp/pen${i}title.txt
   python PlotterTests/text2lines.py $font /tmp/pen${i}title.txt /tmp/pen${i}title.lines
   python PlotterTests/compositelines.py --scale 5. --pen_shift $(( $i - 1 )) /tmp/output.lines ${eighths[$(( $i - 1 ))]} .0125 ${eighths[$i]} .0325 /tmp/pen${i}title.lines /tmp/tmp.lines
   mv /tmp/tmp.lines /tmp/output.lines
done
pen=0
akrow=3
alcol=0

python PlotterTests/compositelines.py --fix_aspect --pen_shift $pen /tmp/output.lines ${columns[0]} ${rows[3]} ${columns[1]} ${rows[4]} ak.lines /tmp/tmp.lines
mv /tmp/tmp.lines /tmp/output.lines

# to hpgl
python PlotterTests/lines2render.py /tmp/output.lines 500 500 10500 8000 pentest.hpgl



